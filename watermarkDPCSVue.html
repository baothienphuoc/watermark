<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<div id="app">
    <div class="wrapper" ondrop="dropHandler(event);"
        ondragenter="dragEnterHandler(event);" ondragover="dragOverHandler(event);"
        ondragleave="dragEndHandler(event);">
        <div class="container" role="main">
            <div id="menu" class="p-2">
                <div class="">
                    <button class="btn btn-primary" @click="$refs['product-image-upload'].click()">
                        Upload hình ảnh
                    </button>
                    <input type="file" name="product-image-upload" id="product-image-upload" ref="product-image-upload" v-model="filesInput"
                        accept=".jpeg, .jpg, .png, .webp" multiple />
                    <div class="d-flex align-items-center mt-2" style="gap: 10px;">
                        <div class="input-group" style="width: fit-content;">
                            <label class="input-group-text" for="sl-mark-type">Chọn SĐT</label>
                            <select class="form-select" aria-label="Default select example" id="sl-mark-type" ref="sl-mark-type" v-model="currentPhone"
                                @change="changePhone">
                                <option v-for="phone in phones" :key="phone" :value="phone">{{ phone }}</option>

                            </select>
                        </div>
                        <div class="form-check  flex-shrink-0">
                            
                            <input class="form-check-input" type="checkbox" value="" id="checkBoxInsertLogo" ref="checkBoxInsertLogo">
                            <label class="form-check-label" for="checkBoxInsertLogo">
                                Chèn logo góc trái
                            </label>
                        </div>
                    </div>
                </div>
                <div>
                    <p>
                        Thả hình ảnh, paste hoặc upload file tại đây.
                        <br>
                        Có thể up nhiều hình ảnh 1 lúc và chọn rồi bấm download ở dưới, có thể mất khá nhiều thời gian
                        khi upload
                        nhiều ảnh. Vui lòng đợi đến khi có cửa sổ tải xuống, tránh click nhiều lần.
                        <br>
                        <span style="color: brown;">Hãy đổi kiểu chèn sang kiểu khác nếu watermark làm hình ảnh bị rối
                            mắt. Chọn
                            hình ảnh cần đổi kiểu chèn sau đó đổi phần kiểu chèn.</span>
                    </p>
                    <!-- <button class="button" id="btn-select-mode" onclick="selectMode()">Select Mode</button> -->
                    <button class="btn btn-primary" id="btn-select" onclick="selectAll()">Select All</button>
                    <button class="btn btn-primary" id="btn-download" onclick="downloadImages()"
                        style="display: none">Download</button>
                </div>
            </div>
            <div id="result">
                <!-- <img id="imageBlock"/ download="new-image-name.jpg"> -->
            </div>
        </div>
        <div class="file-dropzone" style="display: none;">
            <h1>
                Drop image anywhere
            </h1>
        </div>
    </div>

</div>

<script>
    const { createApp, ref } = Vue

    createApp({
        setup() {
            const currentPhone = ref('n0961887777');
            const phoneOptions = [
                '0961887777', '0886112255', '0931987654', '0844371111', '0825484444', '0783868668', '100'
            ];
            const filesInput = ref(null);

            const changePhone = () => {
                console.log(currentPhone.value);
                if (currentPhone.value == '100') {
                    currentPhone.value = 'n0961887777';
                }
            };
            return {
                currentPhone

            }
        }
    }).mount('#app')
</script>
<style lang="scss">
    @import "./style.css";
    .wrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }
</style>